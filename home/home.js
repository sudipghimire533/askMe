var sample_question,feed_container,sample_tag_element,appended_questions=new Map;appended_questions.set("-1",!0);var feeded_tags=new Map;function createQuestion(e){if(appended_questions.has(e.id))return;let t=sample_question.cloneNode(!0);t.getElementsByClassName("titleText")[0].textContent=e.title,t.getElementsByClassName("titleText")[0].setAttribute("href","/thread/"+e.url),t.getElementsByClassName("reply_icon")[0].setAttribute("href","/thread/"+e.url+"#writeAnswer");let n=document.createElement("div");n.innerHTML=e.info,t.getElementsByClassName("description")[0].firstElementChild.textContent=n.textContent+"...";for(let n=0,o=e.tag.split(",");n<o.length;n++){let e=sample_tag_element.cloneNode(!0);e.setAttribute("href","/taggedfor/"+o[n]),e.textContent=o[n],t.getElementsByClassName("tagContainer")[0].appendChild(e),feeded_tags.has(o[n])||(showTags.appendChild(e.cloneNode(!0)),feeded_tags.set(o[n],!0))}let o=t.getElementsByClassName("asker_name")[0];o.setAttribute("href","/profile/"+e.authorPath),o.setAttribute("title","Visit profile of "+e.authorName),o.textContent=e.authorName,t.getElementsByClassName("updated_on")[0].textContent=e.modifiedOn.split(" ")[0];let s=t.getElementsByClassName("bookmarkIcon")[0];null!==e.isBookmarked?(s.classList.add("active"),s.onclick=function(){bookmark(s,!1)}):s.setAttribute("onclick","bookmark(this, true,"+e.id+")"),feed_container.appendChild(t),appended_questions.set(e.id,!0)}function loadMore(e,t=5,n="null"){let o=new Array;appended_questions.forEach(function(e,t){o.push(t)});let s=new XMLHttpRequest;s.onerror=function(){alert("An error occured"),console.log(this)},s.onreadystatechange=function(){if(4==this.readyState&&200==this.status){if("1"==this.responseText||1==this.responseText)return notify("You reached  the end",1),void(loadMore=function(){notify("You ate all of our feed..",1)});if("2"==this.responseText||2==this.responseText)return void notify("Unknown error occured...",2);if("3"==this.responseText||3==this.responseText)return void notify("Unknown error occured...",2);JSON.parse(this.responseText).forEach(function(e){createQuestion(e)})}},s.open("POST","/server/get_feed.php",!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send("NotIn="+JSON.stringify(o)+"&Count="+t+"&LoadQuestion="+e+"&Param="+n),console.log("Post Paramater are: NotIn="+JSON.stringify(o)+"&Count="+t+"&LoadQuestion="+e+"&Param="+n)}